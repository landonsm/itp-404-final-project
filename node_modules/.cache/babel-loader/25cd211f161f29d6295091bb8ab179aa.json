{"ast":null,"code":"import _classCallCheck from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport React from \"react\";\nimport { toast } from \"react-toastify\";\n\nvar EditRestaurant = /*#__PURE__*/function (_React$Component) {\n  _inherits(EditRestaurant, _React$Component);\n\n  var _super = _createSuper(EditRestaurant);\n\n  function EditRestaurant(props) {\n    var _this;\n\n    _classCallCheck(this, EditRestaurant);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      favorite: \"\"\n    };\n    return _this;\n  } // https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\n\n  _createClass(EditRestaurant, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = this.props.match.params.id;\n      fetch(\"https://final-restaurants.herokuapp.com/api/restaurants/\".concat(id)).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        _this2.setState(json); // https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\n\n        fetch(\"http://localhost:4000/api/restaurants/\".concat(id), {\n          method: \"PATCH\",\n          body: JSON.stringify({\n            favorite: !_this2.state.favorite\n          }),\n          headers: {\n            \"Content-type\": \"application/json\"\n          }\n        }).then(function (response) {\n          return response.json();\n        }).then(function (json) {\n          if (_this2.state.favorite) {\n            toast.success(\"\\\"\".concat(json.name, \"\\\" was removed from favorites\"));\n          } else {\n            toast.success(\"\\\"\".concat(json.name, \"\\\" was added to favorites\"));\n          }\n\n          _this2.props.history.push(\"/\");\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return EditRestaurant;\n}(React.Component);\n\nexport { EditRestaurant as default };","map":{"version":3,"sources":["/Users/Landon/Desktop/react-app/src/FavoriteChange.js"],"names":["React","toast","EditRestaurant","props","state","favorite","id","match","params","fetch","then","response","json","setState","method","body","JSON","stringify","headers","success","name","history","push","Component"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;;IAEqBC,c;;;;;AACpB,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,8BAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACZC,MAAAA,QAAQ,EAAE;AADE,KAAb;AAHkB;AAMlB,G,CAED;;;;;WACA,6BAAoB;AAAA;;AACnB,UAAMC,EAAE,GAAG,KAAKH,KAAL,CAAWI,KAAX,CAAiBC,MAAjB,CAAwBF,EAAnC;AACAG,MAAAA,KAAK,mEAA4DH,EAA5D,EAAL,CACEI,IADF,CACO,UAACC,QAAD,EAAc;AACnB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACA,OAHF,EAIEF,IAJF,CAIO,UAACE,IAAD,EAAU;AACf,QAAA,MAAI,CAACC,QAAL,CAAcD,IAAd,EADe,CAEf;;;AACAH,QAAAA,KAAK,iDAA0CH,EAA1C,GAAgD;AACpDQ,UAAAA,MAAM,EAAE,OAD4C;AAEpDC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACpBZ,YAAAA,QAAQ,EAAE,CAAC,MAAI,CAACD,KAAL,CAAWC;AADF,WAAf,CAF8C;AAKpDa,UAAAA,OAAO,EAAE;AACR,4BAAgB;AADR;AAL2C,SAAhD,CAAL,CASER,IATF,CASO,UAACC,QAAD,EAAc;AACnB,iBAAOA,QAAQ,CAACC,IAAT,EAAP;AACA,SAXF,EAYEF,IAZF,CAYO,UAACE,IAAD,EAAU;AACf,cAAI,MAAI,CAACR,KAAL,CAAWC,QAAf,EAAyB;AACxBJ,YAAAA,KAAK,CAACkB,OAAN,aAAkBP,IAAI,CAACQ,IAAvB;AACA,WAFD,MAEO;AACNnB,YAAAA,KAAK,CAACkB,OAAN,aAAkBP,IAAI,CAACQ,IAAvB;AACA;;AACD,UAAA,MAAI,CAACjB,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACA,SAnBF;AAoBA,OA3BF;AA4BA;;;WAED,kBAAS;AACR,aAAO,IAAP;AACA;;;;EA5C0CtB,KAAK,CAACuB,S;;SAA7BrB,c","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport default class EditRestaurant extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tfavorite: \"\",\n\t\t};\n\t}\n\n\t// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\tcomponentDidMount() {\n\t\tconst id = this.props.match.params.id;\n\t\tfetch(`https://final-restaurants.herokuapp.com/api/restaurants/${id}`)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((json) => {\n\t\t\t\tthis.setState(json);\n\t\t\t\t// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\t\t\t\tfetch(`http://localhost:4000/api/restaurants/${id}`, {\n\t\t\t\t\tmethod: \"PATCH\",\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tfavorite: !this.state.favorite,\n\t\t\t\t\t}),\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\treturn response.json();\n\t\t\t\t\t})\n\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\tif (this.state.favorite) {\n\t\t\t\t\t\t\ttoast.success(`\"${json.name}\" was removed from favorites`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttoast.success(`\"${json.name}\" was added to favorites`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.props.history.push(\"/\");\n\t\t\t\t\t});\n\t\t\t});\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}