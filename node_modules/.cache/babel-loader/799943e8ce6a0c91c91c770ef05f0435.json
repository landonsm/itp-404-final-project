{"ast":null,"code":"import _classCallCheck from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{toast}from\"react-toastify\";var EditRestaurant=/*#__PURE__*/function(_React$Component){_inherits(EditRestaurant,_React$Component);var _super=_createSuper(EditRestaurant);function EditRestaurant(props){var _this;_classCallCheck(this,EditRestaurant);_this=_super.call(this,props);_this.state={favorite:\"\"};return _this;}// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n_createClass(EditRestaurant,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var id=this.props.match.params.id;fetch(\"https://final-restaurants.herokuapp.com/api/restaurants/\".concat(id)).then(function(response){return response.json();}).then(function(json){_this2.setState(json);// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\nfetch(\"https://final-restaurants.herokuapp.com/api/restaurants/\".concat(id),{method:\"PATCH\",body:JSON.stringify({favorite:!_this2.state.favorite}),headers:{\"Content-type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(json){if(_this2.state.favorite){toast.success(\"\\\"\".concat(json.name,\"\\\" was removed from favorites\"));}else{toast.success(\"\\\"\".concat(json.name,\"\\\" was added to favorites\"));}_this2.props.history.push(\"/\");});});}},{key:\"render\",value:function render(){return null;}}]);return EditRestaurant;}(React.Component);export{EditRestaurant as default};","map":{"version":3,"sources":["/Users/Landon/Desktop/react-app/src/FavoriteChange.js"],"names":["React","toast","EditRestaurant","props","state","favorite","id","match","params","fetch","then","response","json","setState","method","body","JSON","stringify","headers","success","name","history","push","Component"],"mappings":"wkBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,gBAAtB,C,GAEqBC,CAAAA,c,4HACpB,wBAAYC,KAAZ,CAAmB,gDAClB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACZC,QAAQ,CAAE,EADE,CAAb,CAHkB,aAMlB,CAED;4DACA,4BAAoB,iBACnB,GAAMC,CAAAA,EAAE,CAAG,KAAKH,KAAL,CAAWI,KAAX,CAAiBC,MAAjB,CAAwBF,EAAnC,CACAG,KAAK,mEAA4DH,EAA5D,EAAL,CACEI,IADF,CACO,SAACC,QAAD,CAAc,CACnB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACA,CAHF,EAIEF,IAJF,CAIO,SAACE,IAAD,CAAU,CACf,MAAI,CAACC,QAAL,CAAcD,IAAd,EACA;AACAH,KAAK,mEAA4DH,EAA5D,EAAkE,CACtEQ,MAAM,CAAE,OAD8D,CAEtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACpBZ,QAAQ,CAAE,CAAC,MAAI,CAACD,KAAL,CAAWC,QADF,CAAf,CAFgE,CAKtEa,OAAO,CAAE,CACR,eAAgB,kBADR,CAL6D,CAAlE,CAAL,CASER,IATF,CASO,SAACC,QAAD,CAAc,CACnB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACA,CAXF,EAYEF,IAZF,CAYO,SAACE,IAAD,CAAU,CACf,GAAI,MAAI,CAACR,KAAL,CAAWC,QAAf,CAAyB,CACxBJ,KAAK,CAACkB,OAAN,aAAkBP,IAAI,CAACQ,IAAvB,mCACA,CAFD,IAEO,CACNnB,KAAK,CAACkB,OAAN,aAAkBP,IAAI,CAACQ,IAAvB,+BACA,CACD,MAAI,CAACjB,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACA,CAnBF,EAoBA,CA3BF,EA4BA,C,sBAED,iBAAS,CACR,MAAO,KAAP,CACA,C,4BA5C0CtB,KAAK,CAACuB,S,SAA7BrB,c","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport default class EditRestaurant extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tfavorite: \"\",\n\t\t};\n\t}\n\n\t// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\tcomponentDidMount() {\n\t\tconst id = this.props.match.params.id;\n\t\tfetch(`https://final-restaurants.herokuapp.com/api/restaurants/${id}`)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((json) => {\n\t\t\t\tthis.setState(json);\n\t\t\t\t// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\t\t\t\tfetch(`https://final-restaurants.herokuapp.com/api/restaurants/${id}`, {\n\t\t\t\t\tmethod: \"PATCH\",\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tfavorite: !this.state.favorite,\n\t\t\t\t\t}),\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\treturn response.json();\n\t\t\t\t\t})\n\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\tif (this.state.favorite) {\n\t\t\t\t\t\t\ttoast.success(`\"${json.name}\" was removed from favorites`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttoast.success(`\"${json.name}\" was added to favorites`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.props.history.push(\"/\");\n\t\t\t\t\t});\n\t\t\t});\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}