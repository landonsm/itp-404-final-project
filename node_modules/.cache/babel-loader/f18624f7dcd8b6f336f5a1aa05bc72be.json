{"ast":null,"code":"import _classCallCheck from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/Landon/Desktop/react-app/src/Details.js\";\nimport React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport { isThisTypeNode } from \"typescript\";\nimport Modal from \"./Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Playlist = /*#__PURE__*/function (_React$Component) {\n  _inherits(Playlist, _React$Component);\n\n  var _super = _createSuper(Playlist);\n\n  function Playlist(props) {\n    var _this;\n\n    _classCallCheck(this, Playlist);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      restaurant: [],\n      mondayHours: [],\n      tuesdayHours: [],\n      wednesdayHours: [],\n      thursdayHours: [],\n      fridayHours: [],\n      saturdayHours: [],\n      sundayHours: [],\n      meals: [],\n      isModalOpen: false,\n      confirmDelete: false\n    };\n    return _this;\n  } // https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\n\n  _createClass(Playlist, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = this.props.match.params.id;\n      fetch(\"http://localhost:4000/api/restaurants/\".concat(id)).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        _this2.setState({\n          restaurant: json,\n          mondayHours: json.hours[0].monday[0],\n          tuesdayHours: json.hours[0].tuesday[0],\n          wednesdayHours: json.hours[0].wednesday[0],\n          thursdayHours: json.hours[0].thursday[0],\n          fridayHours: json.hours[0].friday[0],\n          saturdayHours: json.hours[0].saturday[0],\n          sundayHours: json.hours[0].sunday[0],\n          meals: json.meals[0]\n        });\n      }).catch(function (error) {\n        return console.error(error);\n      });\n    }\n  }, {\n    key: \"openModal\",\n    value: function openModal() {\n      this.setState({\n        isModalOpen: true\n      });\n\n      if (!this.state.confirmDelete) {\n        return;\n      }\n\n      this.deleteRestaurant();\n    }\n  }, {\n    key: \"deleteRestaurant\",\n    value: function deleteRestaurant() {\n      var _this3 = this;\n\n      var isDeleteConfirmed = window.confirm(\"Are you sure you want to delete this restaurant?\");\n\n      if (!isDeleteConfirmed) {\n        return;\n      }\n\n      var id = this.props.match.params.id; // https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\n      var url = \"http://localhost:4000/api/restaurants/\".concat(id);\n      console.log(\"URL: '\".concat(url));\n      fetch(\"http://localhost:4000/api/restaurants/\".concat(id), {\n        method: \"DELETE\"\n      }).then(function () {\n        console.log(\"delete AJAX request\");\n        console.log(\"\".concat(_this3.state.restaurant.id));\n        console.log(\"\".concat(id));\n        console.log(\"DELETING\");\n        toast.success(\"\\\"\".concat(_this3.state.restaurant.name, \"\\\" was deleted\"));\n\n        _this3.props.history.push(\"/\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var openFor = false;\n      var openForString = \"Open for: \";\n\n      if (this.state.meals.breakfast || this.state.meals.lunch || this.state.meals.dinner) {\n        openFor = true;\n      }\n\n      if (openFor) {\n        if (this.state.meals.breakfast) {\n          openForString += \"breakfast\";\n        }\n\n        if (this.state.meals.lunch && this.state.meals.breakfast) {\n          openForString += \", lunch\";\n        } else if (this.state.meals.lunch) {\n          openForString += \"lunch\";\n        }\n\n        if (this.state.meals.dinner && (this.state.meals.breakfast || this.state.meals.lunch)) {\n          openForString += \", dinner\";\n        } else if (this.state.meals.dinner) {\n          openForString += \"dinner\";\n        }\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row my-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"restaurant-name\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: this.state.restaurant.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row my-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6 details-col-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.restaurant.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Cuisine: \", this.state.restaurant.cuisine]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [this.state.restaurant.rating, \" Stars\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 7\n            }, this), openFor && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: openForString\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"btn btn-dark\",\n                href: this.state.restaurant.menu,\n                children: \"View Menu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6 details-col-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Location: \", this.state.restaurant.location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Distance from USC's campus: \", this.state.restaurant.distFromUsc, \" Miles\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.restaurant.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Hours:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Monday: \", this.state.mondayHours.open, \"-\", this.state.mondayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Tuesday: \", this.state.tuesdayHours.open, \"-\", this.state.tuesdayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Wednesday: \", this.state.wednesdayHours.open, \"-\", this.state.wednesdayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Thursday: \", this.state.thursdayHours.open, \"-\", this.state.thursdayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Friday: \", this.state.fridayHours.open, \"-\", this.state.fridayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Saturday: \", this.state.saturdayHours.open, \"-\", this.state.saturdayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Sunday: \", this.state.sundayHours.open, \"-\", this.state.sundayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 8\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"center-btns\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-group\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/restaurants/\".concat(this.state.restaurant.id, \"/edit\"),\n              className: \"btn btn-secondary\",\n              children: \"Edit Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-group\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-danger\",\n              onClick: function onClick() {\n                _this4.openModal();\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: function onClick() {\n              _this4.setState({\n                isModalOpen: true\n              });\n            },\n            children: \"OPEN MODAL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 6\n          }, this), this.state.isModalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n            onClose: function onClose() {\n              _this4.setState({\n                isModalOpen: false\n              });\n\n              _this4.setState({\n                confirmDelete: false\n              });\n            },\n            onConfirm: function onConfirm() {\n              _this4.setState({\n                isModalOpen: false\n              });\n\n              _this4.setState({\n                confirmDelete: true\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 4\n      }, this);\n    }\n  }]);\n\n  return Playlist;\n}(React.Component);\n\nexport { Playlist as default };","map":{"version":3,"sources":["/Users/Landon/Desktop/react-app/src/Details.js"],"names":["React","toast","Link","isThisTypeNode","Modal","Playlist","props","state","restaurant","mondayHours","tuesdayHours","wednesdayHours","thursdayHours","fridayHours","saturdayHours","sundayHours","meals","isModalOpen","confirmDelete","id","match","params","fetch","then","response","json","setState","hours","monday","tuesday","wednesday","thursday","friday","saturday","sunday","catch","error","console","deleteRestaurant","isDeleteConfirmed","window","confirm","url","log","method","success","name","history","push","openFor","openForString","breakfast","lunch","dinner","description","cuisine","rating","menu","location","distFromUsc","address","open","close","openModal","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport { isThisTypeNode } from \"typescript\";\nimport Modal from \"./Modal\";\n\nexport default class Playlist extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\trestaurant: [],\n\t\t\tmondayHours: [],\n\t\t\ttuesdayHours: [],\n\t\t\twednesdayHours: [],\n\t\t\tthursdayHours: [],\n\t\t\tfridayHours: [],\n\t\t\tsaturdayHours: [],\n\t\t\tsundayHours: [],\n\t\t\tmeals: [],\n\t\t\tisModalOpen: false,\n\t\t\tconfirmDelete: false,\n\t\t};\n\t}\n\n\t// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\tcomponentDidMount() {\n\t\tconst id = this.props.match.params.id;\n\t\tfetch(`http://localhost:4000/api/restaurants/${id}`)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((json) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\trestaurant: json,\n\t\t\t\t\tmondayHours: json.hours[0].monday[0],\n\t\t\t\t\ttuesdayHours: json.hours[0].tuesday[0],\n\t\t\t\t\twednesdayHours: json.hours[0].wednesday[0],\n\t\t\t\t\tthursdayHours: json.hours[0].thursday[0],\n\t\t\t\t\tfridayHours: json.hours[0].friday[0],\n\t\t\t\t\tsaturdayHours: json.hours[0].saturday[0],\n\t\t\t\t\tsundayHours: json.hours[0].sunday[0],\n\t\t\t\t\tmeals: json.meals[0],\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => console.error(error));\n\t}\n\n\topenModal() {\n\t\tthis.setState({ isModalOpen: true });\n\n\t\tif (!this.state.confirmDelete) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.deleteRestaurant();\n\t}\n\n\tdeleteRestaurant() {\n\t\tconst isDeleteConfirmed = window.confirm(\n\t\t\t\"Are you sure you want to delete this restaurant?\"\n\t\t);\n\n\t\tif (!isDeleteConfirmed) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst id = this.props.match.params.id;\n\t\t// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\t\tconst url = `http://localhost:4000/api/restaurants/${id}`;\n\t\tconsole.log(`URL: '${url}`);\n\t\tfetch(`http://localhost:4000/api/restaurants/${id}`, {\n\t\t\tmethod: \"DELETE\",\n\t\t}).then(() => {\n\t\t\tconsole.log(\"delete AJAX request\");\n\t\t\tconsole.log(`${this.state.restaurant.id}`);\n\t\t\tconsole.log(`${id}`);\n\t\t\tconsole.log(\"DELETING\");\n\t\t\ttoast.success(`\"${this.state.restaurant.name}\" was deleted`);\n\t\t\tthis.props.history.push(\"/\");\n\t\t});\n\t}\n\n\trender() {\n\t\tlet openFor = false;\n\t\tlet openForString = \"Open for: \";\n\t\tif (\n\t\t\tthis.state.meals.breakfast ||\n\t\t\tthis.state.meals.lunch ||\n\t\t\tthis.state.meals.dinner\n\t\t) {\n\t\t\topenFor = true;\n\t\t}\n\t\tif (openFor) {\n\t\t\tif (this.state.meals.breakfast) {\n\t\t\t\topenForString += \"breakfast\";\n\t\t\t}\n\t\t\tif (this.state.meals.lunch && this.state.meals.breakfast) {\n\t\t\t\topenForString += \", lunch\";\n\t\t\t} else if (this.state.meals.lunch) {\n\t\t\t\topenForString += \"lunch\";\n\t\t\t}\n\t\t\tif (\n\t\t\t\tthis.state.meals.dinner &&\n\t\t\t\t(this.state.meals.breakfast || this.state.meals.lunch)\n\t\t\t) {\n\t\t\t\topenForString += \", dinner\";\n\t\t\t} else if (this.state.meals.dinner) {\n\t\t\t\topenForString += \"dinner\";\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"container-fluid\">\n\t\t\t\t<div className=\"row my-3\">\n\t\t\t\t\t<div className=\"restaurant-name\">\n\t\t\t\t\t\t<h2>{this.state.restaurant.name}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row my-3\">\n\t\t\t\t\t<div className=\"col-sm-6 details-col-left\">\n\t\t\t\t\t\t<p>{this.state.restaurant.description}</p>\n\t\t\t\t\t\t<p>Cuisine: {this.state.restaurant.cuisine}</p>\n\t\t\t\t\t\t<p>{this.state.restaurant.rating} Stars</p>\n\t\t\t\t\t\t{openFor && <p>{openForString}</p>}\n\t\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t\t<a className=\"btn btn-dark\" href={this.state.restaurant.menu}>\n\t\t\t\t\t\t\t\tView Menu\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-sm-6 details-col-right\">\n\t\t\t\t\t\t<p>Location: {this.state.restaurant.location}</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tDistance from USC's campus: {this.state.restaurant.distFromUsc} Miles\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>{this.state.restaurant.address}</p>\n\t\t\t\t\t\t<p>Hours:</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tMonday: {this.state.mondayHours.open}-{this.state.mondayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tTuesday: {this.state.tuesdayHours.open}-{this.state.tuesdayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tWednesday: {this.state.wednesdayHours.open}-\n\t\t\t\t\t\t\t\t{this.state.wednesdayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tThursday: {this.state.thursdayHours.open}-\n\t\t\t\t\t\t\t\t{this.state.thursdayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tFriday: {this.state.fridayHours.open}-{this.state.fridayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tSaturday: {this.state.saturdayHours.open}-\n\t\t\t\t\t\t\t\t{this.state.saturdayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tSunday: {this.state.sundayHours.open}-{this.state.sundayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"center-btns\">\n\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/restaurants/${this.state.restaurant.id}/edit`}\n\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEdit Details\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.openModal();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.setState({ isModalOpen: true });\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tOPEN MODAL\n\t\t\t\t\t</button>\n\t\t\t\t\t{this.state.isModalOpen && (\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\tthis.setState({ isModalOpen: false });\n\t\t\t\t\t\t\t\tthis.setState({ confirmDelete: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonConfirm={() => {\n\t\t\t\t\t\t\t\tthis.setState({ isModalOpen: false });\n\t\t\t\t\t\t\t\tthis.setState({ confirmDelete: true });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}