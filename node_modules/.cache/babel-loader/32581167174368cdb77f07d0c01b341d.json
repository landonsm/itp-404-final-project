{"ast":null,"code":"import _classCallCheck from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/Landon/Desktop/react-app/src/Details.js\";\nimport React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport { isThisTypeNode } from \"typescript\";\nimport Modal from \"./Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Playlist = /*#__PURE__*/function (_React$Component) {\n  _inherits(Playlist, _React$Component);\n\n  var _super = _createSuper(Playlist);\n\n  function Playlist(props) {\n    var _this;\n\n    _classCallCheck(this, Playlist);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      restaurant: [],\n      mondayHours: [],\n      tuesdayHours: [],\n      wednesdayHours: [],\n      thursdayHours: [],\n      fridayHours: [],\n      saturdayHours: [],\n      sundayHours: [],\n      meals: [],\n      isModalOpen: false\n    };\n    return _this;\n  } // https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\n\n  _createClass(Playlist, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = this.props.match.params.id;\n      fetch(\"http://localhost:4000/api/restaurants/\".concat(id)).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        _this2.setState({\n          restaurant: json,\n          mondayHours: json.hours[0].monday[0],\n          tuesdayHours: json.hours[0].tuesday[0],\n          wednesdayHours: json.hours[0].wednesday[0],\n          thursdayHours: json.hours[0].thursday[0],\n          fridayHours: json.hours[0].friday[0],\n          saturdayHours: json.hours[0].saturday[0],\n          sundayHours: json.hours[0].sunday[0],\n          meals: json.meals[0]\n        });\n      }).catch(function (error) {\n        return console.error(error);\n      });\n    }\n  }, {\n    key: \"deleteRestaurant\",\n    value: function deleteRestaurant() {\n      var _this3 = this;\n\n      this.setState({\n        isModalOpen: true\n      }); // const isDeleteConfirmed = window.confirm(\n      // \t\"Are you sure you want to delete this restaurant?\"\n      // );\n      // if (!isDeleteConfirmed) {\n      // \treturn;\n      // }\n\n      var id = this.props.match.params.id; // https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\n      var url = \"http://localhost:4000/api/restaurants/\".concat(id);\n      console.log(\"URL: '\".concat(url));\n      fetch(\"http://localhost:4000/api/restaurants/\".concat(id), {\n        method: \"DELETE\"\n      }).then(function () {\n        console.log(\"delete AJAX request\");\n        console.log(\"\".concat(_this3.state.restaurant.id));\n        console.log(\"\".concat(id));\n        console.log(\"DELETING\");\n        toast.success(\"\\\"\".concat(_this3.state.restaurant.name, \"\\\" was deleted\"));\n\n        _this3.props.history.push(\"/\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var openFor = false;\n      var openForString = \"Open for: \";\n\n      if (this.state.meals.breakfast || this.state.meals.lunch || this.state.meals.dinner) {\n        openFor = true;\n      }\n\n      if (openFor) {\n        if (this.state.meals.breakfast) {\n          openForString += \"breakfast\";\n        }\n\n        if (this.state.meals.lunch && this.state.meals.breakfast) {\n          openForString += \", lunch\";\n        } else if (this.state.meals.lunch) {\n          openForString += \"lunch\";\n        }\n\n        if (this.state.meals.dinner && (this.state.meals.breakfast || this.state.meals.lunch)) {\n          openForString += \", dinner\";\n        } else if (this.state.meals.dinner) {\n          openForString += \"dinner\";\n        }\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row my-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"restaurant-name\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: this.state.restaurant.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row my-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6 details-col-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.restaurant.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Cuisine: \", this.state.restaurant.cuisine]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [this.state.restaurant.rating, \" Stars\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 7\n            }, this), openFor && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: openForString\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"btn btn-dark\",\n                href: this.state.restaurant.menu,\n                children: \"View Menu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6 details-col-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Location: \", this.state.restaurant.location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Distance from USC's campus: \", this.state.restaurant.distFromUsc, \" Miles\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.restaurant.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Hours:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Monday: \", this.state.mondayHours.open, \"-\", this.state.mondayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Tuesday: \", this.state.tuesdayHours.open, \"-\", this.state.tuesdayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Wednesday: \", this.state.wednesdayHours.open, \"-\", this.state.wednesdayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Thursday: \", this.state.thursdayHours.open, \"-\", this.state.thursdayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Friday: \", this.state.fridayHours.open, \"-\", this.state.fridayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Saturday: \", this.state.saturdayHours.open, \"-\", this.state.saturdayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Sunday: \", this.state.sundayHours.open, \"-\", this.state.sundayHours.close]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 8\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"center-btns\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-group\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/restaurants/\".concat(this.state.restaurant.id, \"/edit\"),\n              className: \"btn btn-secondary\",\n              children: \"Edit Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-group\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-danger\",\n              onClick: function onClick() {\n                _this4.deleteRestaurant();\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: function onClick() {\n              _this4.setState({\n                isModalOpen: true\n              });\n            },\n            children: \"OPEN MODAL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 6\n          }, this), this.state.isModalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n            onClose: function onClose() {\n              _this4.setState({\n                isModalOpen: false\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 4\n      }, this);\n    }\n  }]);\n\n  return Playlist;\n}(React.Component);\n\nexport { Playlist as default };","map":{"version":3,"sources":["/Users/Landon/Desktop/react-app/src/Details.js"],"names":["React","toast","Link","isThisTypeNode","Modal","Playlist","props","state","restaurant","mondayHours","tuesdayHours","wednesdayHours","thursdayHours","fridayHours","saturdayHours","sundayHours","meals","isModalOpen","id","match","params","fetch","then","response","json","setState","hours","monday","tuesday","wednesday","thursday","friday","saturday","sunday","catch","error","console","url","log","method","success","name","history","push","openFor","openForString","breakfast","lunch","dinner","description","cuisine","rating","menu","location","distFromUsc","address","open","close","deleteRestaurant","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport { isThisTypeNode } from \"typescript\";\nimport Modal from \"./Modal\";\n\nexport default class Playlist extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\trestaurant: [],\n\t\t\tmondayHours: [],\n\t\t\ttuesdayHours: [],\n\t\t\twednesdayHours: [],\n\t\t\tthursdayHours: [],\n\t\t\tfridayHours: [],\n\t\t\tsaturdayHours: [],\n\t\t\tsundayHours: [],\n\t\t\tmeals: [],\n\t\t\tisModalOpen: false,\n\t\t};\n\t}\n\n\t// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\tcomponentDidMount() {\n\t\tconst id = this.props.match.params.id;\n\t\tfetch(`http://localhost:4000/api/restaurants/${id}`)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((json) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\trestaurant: json,\n\t\t\t\t\tmondayHours: json.hours[0].monday[0],\n\t\t\t\t\ttuesdayHours: json.hours[0].tuesday[0],\n\t\t\t\t\twednesdayHours: json.hours[0].wednesday[0],\n\t\t\t\t\tthursdayHours: json.hours[0].thursday[0],\n\t\t\t\t\tfridayHours: json.hours[0].friday[0],\n\t\t\t\t\tsaturdayHours: json.hours[0].saturday[0],\n\t\t\t\t\tsundayHours: json.hours[0].sunday[0],\n\t\t\t\t\tmeals: json.meals[0],\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => console.error(error));\n\t}\n\n\tdeleteRestaurant() {\n\t\tthis.setState({ isModalOpen: true });\n\n\t\t// const isDeleteConfirmed = window.confirm(\n\t\t// \t\"Are you sure you want to delete this restaurant?\"\n\t\t// );\n\n\t\t// if (!isDeleteConfirmed) {\n\t\t// \treturn;\n\t\t// }\n\n\t\tconst id = this.props.match.params.id;\n\t\t// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants/\n\t\tconst url = `http://localhost:4000/api/restaurants/${id}`;\n\t\tconsole.log(`URL: '${url}`);\n\t\tfetch(`http://localhost:4000/api/restaurants/${id}`, {\n\t\t\tmethod: \"DELETE\",\n\t\t}).then(() => {\n\t\t\tconsole.log(\"delete AJAX request\");\n\t\t\tconsole.log(`${this.state.restaurant.id}`);\n\t\t\tconsole.log(`${id}`);\n\t\t\tconsole.log(\"DELETING\");\n\t\t\ttoast.success(`\"${this.state.restaurant.name}\" was deleted`);\n\t\t\tthis.props.history.push(\"/\");\n\t\t});\n\t}\n\n\trender() {\n\t\tlet openFor = false;\n\t\tlet openForString = \"Open for: \";\n\t\tif (\n\t\t\tthis.state.meals.breakfast ||\n\t\t\tthis.state.meals.lunch ||\n\t\t\tthis.state.meals.dinner\n\t\t) {\n\t\t\topenFor = true;\n\t\t}\n\t\tif (openFor) {\n\t\t\tif (this.state.meals.breakfast) {\n\t\t\t\topenForString += \"breakfast\";\n\t\t\t}\n\t\t\tif (this.state.meals.lunch && this.state.meals.breakfast) {\n\t\t\t\topenForString += \", lunch\";\n\t\t\t} else if (this.state.meals.lunch) {\n\t\t\t\topenForString += \"lunch\";\n\t\t\t}\n\t\t\tif (\n\t\t\t\tthis.state.meals.dinner &&\n\t\t\t\t(this.state.meals.breakfast || this.state.meals.lunch)\n\t\t\t) {\n\t\t\t\topenForString += \", dinner\";\n\t\t\t} else if (this.state.meals.dinner) {\n\t\t\t\topenForString += \"dinner\";\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"container-fluid\">\n\t\t\t\t<div className=\"row my-3\">\n\t\t\t\t\t<div className=\"restaurant-name\">\n\t\t\t\t\t\t<h2>{this.state.restaurant.name}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row my-3\">\n\t\t\t\t\t<div className=\"col-sm-6 details-col-left\">\n\t\t\t\t\t\t<p>{this.state.restaurant.description}</p>\n\t\t\t\t\t\t<p>Cuisine: {this.state.restaurant.cuisine}</p>\n\t\t\t\t\t\t<p>{this.state.restaurant.rating} Stars</p>\n\t\t\t\t\t\t{openFor && <p>{openForString}</p>}\n\t\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t\t<a className=\"btn btn-dark\" href={this.state.restaurant.menu}>\n\t\t\t\t\t\t\t\tView Menu\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-sm-6 details-col-right\">\n\t\t\t\t\t\t<p>Location: {this.state.restaurant.location}</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tDistance from USC's campus: {this.state.restaurant.distFromUsc} Miles\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>{this.state.restaurant.address}</p>\n\t\t\t\t\t\t<p>Hours:</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tMonday: {this.state.mondayHours.open}-{this.state.mondayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tTuesday: {this.state.tuesdayHours.open}-{this.state.tuesdayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tWednesday: {this.state.wednesdayHours.open}-\n\t\t\t\t\t\t\t\t{this.state.wednesdayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tThursday: {this.state.thursdayHours.open}-\n\t\t\t\t\t\t\t\t{this.state.thursdayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tFriday: {this.state.fridayHours.open}-{this.state.fridayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tSaturday: {this.state.saturdayHours.open}-\n\t\t\t\t\t\t\t\t{this.state.saturdayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tSunday: {this.state.sundayHours.open}-{this.state.sundayHours.close}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"center-btns\">\n\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/restaurants/${this.state.restaurant.id}/edit`}\n\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEdit Details\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.deleteRestaurant();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.setState({ isModalOpen: true });\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tOPEN MODAL\n\t\t\t\t\t</button>\n\t\t\t\t\t{this.state.isModalOpen && (\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\tthis.setState({ isModalOpen: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}