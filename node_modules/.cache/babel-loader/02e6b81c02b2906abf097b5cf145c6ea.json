{"ast":null,"code":"import _classCallCheck from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Link}from\"react-router-dom\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faStar}from\"@fortawesome/free-solid-svg-icons\";import{toast}from\"react-toastify\";import Accordion from\"./Accordion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Library=/*#__PURE__*/function(_React$Component){_inherits(Library,_React$Component);var _super=_createSuper(Library);function Library(props){var _this;_classCallCheck(this,Library);_this=_super.call(this,props);_this.state={restaurants:[],openPanel:1,titles:[],descriptions:[]};return _this;}// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants\n_createClass(Library,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.title=\"Favorites\";fetch(\"https://final-restaurants.herokuapp.com/api/restaurants\").then(function(response){return response.json();}).then(function(json){var allTitlesArray=[];var allDescriptionsArray=[];var tempTitlesArray=[];var tempDescriptionsArray=[];var favCounter=0;for(var i=0;i<json.length;i++){if(json[i].favorite){favCounter+=1;}}if(json.length>=3&&favCounter>=3){for(var _i=0;_i<json.length;_i++){if(json[_i].favorite){allTitlesArray.push(json[_i].name);allDescriptionsArray.push(json[_i].description);}}var arr=[];while(arr.length<3){var r=Math.floor(Math.random()*allTitlesArray.length);if(arr.indexOf(r)===-1)arr.push(r);}for(var _i2=0;_i2<arr.length;_i2++){tempTitlesArray.push(allTitlesArray[arr[_i2]]);tempDescriptionsArray.push(allDescriptionsArray[arr[_i2]]);}}_this2.setState({restaurants:json,titles:tempTitlesArray,descriptions:tempDescriptionsArray});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table my-3 table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Restaurant\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cuisine\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rating\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Favorite\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.restaurants.map(function(restaurant){return restaurant.favorite&&/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td-element\",children:/*#__PURE__*/_jsx(Link,{to:\"/restaurants/\".concat(restaurant.id),children:restaurant.name})},restaurant.id),/*#__PURE__*/_jsx(\"td\",{className:\"td-element\",children:restaurant.cuisine}),/*#__PURE__*/_jsx(\"td\",{className:\"td-element\",children:restaurant.location}),/*#__PURE__*/_jsx(\"td\",{className:\"td-element\",children:restaurant.rating}),/*#__PURE__*/_jsxs(\"td\",{className:\"td-element\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",children:/*#__PURE__*/_jsx(Link,{to:\"/restaurants/\".concat(restaurant.id,\"/favoriteChange\"),className:\"btn\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faStar,color:restaurant.favorite?\"yellow\":\"black\",size:\"2x\",className:\"star\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(event){_this3.handleFavoritesChange(event,restaurant.id);}})]})]});})})]}),this.state.titles.length!=0&&/*#__PURE__*/_jsx(\"div\",{className:\"row accordion-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8 accordion-col my-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Popular Today\"}),/*#__PURE__*/_jsx(Accordion,{className:\"my-3\",description:this.state.descriptions,title:this.state.titles,value:this.state.openPanel,onPanelClick:function onPanelClick(clickedPanel){_this3.setState({openPanel:clickedPanel});},display:\"none\"})]})})]});}}]);return Library;}(React.Component);export{Library as default};","map":{"version":3,"sources":["/Users/Landon/Desktop/react-app/src/Favorites.js"],"names":["React","Link","FontAwesomeIcon","faStar","toast","Accordion","Library","props","state","restaurants","openPanel","titles","descriptions","document","title","fetch","then","response","json","allTitlesArray","allDescriptionsArray","tempTitlesArray","tempDescriptionsArray","favCounter","i","length","favorite","push","name","description","arr","r","Math","floor","random","indexOf","setState","map","restaurant","id","cuisine","location","rating","event","handleFavoritesChange","clickedPanel","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\nimport { toast } from \"react-toastify\";\nimport Accordion from \"./Accordion\";\n\nexport default class Library extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\trestaurants: [],\n\t\t\topenPanel: 1,\n\t\t\ttitles: [],\n\t\t\tdescriptions: [],\n\t\t};\n\t}\n\n\t// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants\n\tcomponentDidMount() {\n\t\tdocument.title = \"Favorites\";\n\t\tfetch(\"https://final-restaurants.herokuapp.com/api/restaurants\")\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((json) => {\n\t\t\t\tlet allTitlesArray = [];\n\t\t\t\tlet allDescriptionsArray = [];\n\t\t\t\tlet tempTitlesArray = [];\n\t\t\t\tlet tempDescriptionsArray = [];\n\t\t\t\tlet favCounter = 0;\n\n\t\t\t\tfor (let i = 0; i < json.length; i++) {\n\t\t\t\t\tif (json[i].favorite) {\n\t\t\t\t\t\tfavCounter += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (json.length >= 3 && favCounter >= 3) {\n\t\t\t\t\tfor (let i = 0; i < json.length; i++) {\n\t\t\t\t\t\tif (json[i].favorite) {\n\t\t\t\t\t\t\tallTitlesArray.push(json[i].name);\n\t\t\t\t\t\t\tallDescriptionsArray.push(json[i].description);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet arr = [];\n\t\t\t\t\twhile (arr.length < 3) {\n\t\t\t\t\t\tlet r = Math.floor(Math.random() * allTitlesArray.length);\n\t\t\t\t\t\tif (arr.indexOf(r) === -1) arr.push(r);\n\t\t\t\t\t}\n\t\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\t\ttempTitlesArray.push(allTitlesArray[arr[i]]);\n\t\t\t\t\t\ttempDescriptionsArray.push(allDescriptionsArray[arr[i]]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setState({\n\t\t\t\t\trestaurants: json,\n\t\t\t\t\ttitles: tempTitlesArray,\n\t\t\t\t\tdescriptions: tempDescriptionsArray,\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<table className=\"table my-3 table-striped\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Restaurant</th>\n\t\t\t\t\t\t\t<th>Cuisine</th>\n\t\t\t\t\t\t\t<th>Location</th>\n\t\t\t\t\t\t\t<th>Rating</th>\n\t\t\t\t\t\t\t<th>Favorite</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{this.state.restaurants.map((restaurant) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\trestaurant.favorite && (\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td key={restaurant.id} className=\"td-element\">\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/restaurants/${restaurant.id}`}>{restaurant.name}</Link>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"td-element\">{restaurant.cuisine}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"td-element\">{restaurant.location}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"td-element\">{restaurant.rating}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"td-element\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/restaurants/${restaurant.id}/favoriteChange`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={faStar}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={restaurant.favorite ? \"yellow\" : \"black\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"2x\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"star\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleFavoritesChange(event, restaurant.id);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t></button>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t{this.state.titles.length != 0 && (\n\t\t\t\t\t<div className=\"row accordion-container\">\n\t\t\t\t\t\t<div className=\"col-sm-8 accordion-col my-3\">\n\t\t\t\t\t\t\t<h4>Popular Today</h4>\n\t\t\t\t\t\t\t<Accordion\n\t\t\t\t\t\t\t\tclassName=\"my-3\"\n\t\t\t\t\t\t\t\tdescription={this.state.descriptions}\n\t\t\t\t\t\t\t\ttitle={this.state.titles}\n\t\t\t\t\t\t\t\tvalue={this.state.openPanel}\n\t\t\t\t\t\t\t\tonPanelClick={(clickedPanel) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ openPanel: clickedPanel });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisplay=\"none\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}