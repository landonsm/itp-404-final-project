{"ast":null,"code":"import _classCallCheck from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Landon/Desktop/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Link}from\"react-router-dom\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faStar}from\"@fortawesome/free-solid-svg-icons\";import Accordion from\"./Accordion\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Library=/*#__PURE__*/function(_React$Component){_inherits(Library,_React$Component);var _super=_createSuper(Library);function Library(props){var _this;_classCallCheck(this,Library);_this=_super.call(this,props);_this.state={restaurants:[],openPanel:1,titles:[],descriptions:[]};return _this;}// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants\n// https://final-restaurants.herokuapp.com/api/restaurants\n_createClass(Library,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.title=\"Restaurants\";fetch(\"https://final-restaurants.herokuapp.com/api/restaurants\",{headers:{\"Content-type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(json){var allTitlesArray=[];var allDescriptionsArray=[];var tempTitlesArray=[];var tempDescriptionsArray=[];if(json.length>=3){for(var i=0;i<json.length;i++){allTitlesArray.push(json[i].name);allDescriptionsArray.push(json[i].description);}var arr=[];while(arr.length<3){var r=Math.floor(Math.random()*json.length);if(arr.indexOf(r)===-1)arr.push(r);}for(var _i=0;_i<arr.length;_i++){tempTitlesArray.push(allTitlesArray[arr[_i]]);tempDescriptionsArray.push(allDescriptionsArray[arr[_i]]);}}_this2.setState({restaurants:json,titles:tempTitlesArray,descriptions:tempDescriptionsArray});}).catch(function(error){return console.error(error);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table my-3 table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Restaurant\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cuisine\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rating\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Favorite\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.restaurants.map(function(restaurant){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td-element\",children:/*#__PURE__*/_jsx(Link,{to:\"/restaurants/\".concat(restaurant.id),children:restaurant.name})},restaurant.id),/*#__PURE__*/_jsx(\"td\",{className:\"td-element\",children:restaurant.cuisine}),/*#__PURE__*/_jsx(\"td\",{className:\"td-element\",children:restaurant.location}),/*#__PURE__*/_jsx(\"td\",{className:\"td-element\",children:restaurant.rating}),/*#__PURE__*/_jsx(\"td\",{className:\"td-element\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(event){console.log(\"OPEN MODAL\");_this3.setState({isModalOpen:true});},to:\"/restaurants/\".concat(restaurant.id,\"/favoriteChange\"),className:\"btn\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faStar,color:restaurant.favorite?\"yellow\":\"black\",size:\"2x\",className:\"star\"})})})})]});})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row accordion-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8 accordion-col my-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Popular Today\"}),/*#__PURE__*/_jsx(Accordion,{className:\"my-3\",description:this.state.descriptions,title:this.state.titles,value:this.state.openPanel,onPanelClick:function onPanelClick(clickedPanel){_this3.setState({openPanel:clickedPanel});},display:\"none\"})]})})]});}}]);return Library;}(React.Component);export{Library as default};","map":{"version":3,"sources":["/Users/Landon/Desktop/react-app/src/Restaurants.js"],"names":["React","Link","FontAwesomeIcon","faStar","Accordion","toast","Library","props","state","restaurants","openPanel","titles","descriptions","document","title","fetch","headers","then","response","json","allTitlesArray","allDescriptionsArray","tempTitlesArray","tempDescriptionsArray","length","i","push","name","description","arr","r","Math","floor","random","indexOf","setState","catch","error","console","map","restaurant","id","cuisine","location","rating","event","log","isModalOpen","favorite","clickedPanel","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\nimport Accordion from \"./Accordion\";\nimport { toast } from \"react-toastify\";\n\nexport default class Library extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\trestaurants: [],\n\t\t\topenPanel: 1,\n\t\t\ttitles: [],\n\t\t\tdescriptions: [],\n\t\t};\n\t}\n\n\t// https://my-json-server.typicode.com/landonsm/restaurants-api-final-project/restaurants\n\t// https://final-restaurants.herokuapp.com/api/restaurants\n\tcomponentDidMount() {\n\t\tdocument.title = \"Restaurants\";\n\t\tfetch(\"https://final-restaurants.herokuapp.com/api/restaurants\", {\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((json) => {\n\t\t\t\tlet allTitlesArray = [];\n\t\t\t\tlet allDescriptionsArray = [];\n\t\t\t\tlet tempTitlesArray = [];\n\t\t\t\tlet tempDescriptionsArray = [];\n\n\t\t\t\tif (json.length >= 3) {\n\t\t\t\t\tfor (let i = 0; i < json.length; i++) {\n\t\t\t\t\t\tallTitlesArray.push(json[i].name);\n\t\t\t\t\t\tallDescriptionsArray.push(json[i].description);\n\t\t\t\t\t}\n\t\t\t\t\tlet arr = [];\n\t\t\t\t\twhile (arr.length < 3) {\n\t\t\t\t\t\tlet r = Math.floor(Math.random() * json.length);\n\t\t\t\t\t\tif (arr.indexOf(r) === -1) arr.push(r);\n\t\t\t\t\t}\n\t\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\t\ttempTitlesArray.push(allTitlesArray[arr[i]]);\n\t\t\t\t\t\ttempDescriptionsArray.push(allDescriptionsArray[arr[i]]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setState({\n\t\t\t\t\trestaurants: json,\n\t\t\t\t\ttitles: tempTitlesArray,\n\t\t\t\t\tdescriptions: tempDescriptionsArray,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => console.error(error));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<table className=\"table my-3 table-striped\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Restaurant</th>\n\t\t\t\t\t\t\t<th>Cuisine</th>\n\t\t\t\t\t\t\t<th>Location</th>\n\t\t\t\t\t\t\t<th>Rating</th>\n\t\t\t\t\t\t\t<th>Favorite</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{this.state.restaurants.map((restaurant) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td key={restaurant.id} className=\"td-element\">\n\t\t\t\t\t\t\t\t\t\t<Link to={`/restaurants/${restaurant.id}`}>{restaurant.name}</Link>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"td-element\">{restaurant.cuisine}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"td-element\">{restaurant.location}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"td-element\">{restaurant.rating}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"td-element\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"OPEN MODAL\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ isModalOpen: true });\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/restaurants/${restaurant.id}/favoriteChange`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={faStar}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={restaurant.favorite ? \"yellow\" : \"black\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"2x\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"star\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<div className=\"row accordion-container\">\n\t\t\t\t\t<div className=\"col-sm-8 accordion-col my-3\">\n\t\t\t\t\t\t<h4>Popular Today</h4>\n\t\t\t\t\t\t<Accordion\n\t\t\t\t\t\t\tclassName=\"my-3\"\n\t\t\t\t\t\t\tdescription={this.state.descriptions}\n\t\t\t\t\t\t\ttitle={this.state.titles}\n\t\t\t\t\t\t\tvalue={this.state.openPanel}\n\t\t\t\t\t\t\tonPanelClick={(clickedPanel) => {\n\t\t\t\t\t\t\t\tthis.setState({ openPanel: clickedPanel });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisplay=\"none\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}